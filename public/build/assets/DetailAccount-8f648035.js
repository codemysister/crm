import{r as u,W as U,j as e}from"./app-183ca207.js";import{I as n}from"./InputError-6be719bf.js";import{L as B}from"./LogDetailPartnerComponent-fcf62a60.js";import{B as c}from"./button.esm-d3cd2157.js";import{D as x}from"./dialog.esm-202fdef4.js";import{D as F}from"./dropdown.esm-0caba294.js";import{I as d}from"./inputtext.esm-0c7f541c.js";import"./HeaderDatatable-497e5508.js";import"./ripple.esm-4b355069.js";import"./SkeletonDatatable-07c9c4e2.js";import"./DashboardLayout-217cf030.js";import"./Dropdown-b69220a2.js";import"./column.esm-1f1d87c0.js";import"./inputnumber.esm-6c4b14f0.js";import"./index.esm-9ef49f43.js";import"./index.esm-dca36cda.js";import"./index.esm-64ce51d8.js";import"./csstransition.esm-03d4c013.js";import"./inheritsLoose-2f6bfe9f.js";import"./index.esm-80aa95ee.js";import"./portal.esm-545bb246.js";import"./skeleton.esm-b303042b.js";import"./formatDate-5c964a42.js";import"./badge.esm-c550247d.js";import"./message.esm-4bbe4c64.js";import"./index.esm-c27cbd20.js";import"./overlaypanel.esm-9c3ae74e.js";const je=({partner:t,partners:b,handleSelectedDetailPartner:h,showSuccess:j,showError:g,currentUser:f,permissions:_,permissionErrorIsVisible:z,setPermissionErrorIsVisible:w})=>{var S,E,I;const[T,m]=u.useState(!1),[D,o]=u.useState(!1),[v,N]=u.useState(!1),{data:s,setData:l,post:L,put:P,delete:O,reset:p,processing:k,errors:i,clearErrors:V}=U({uuid:"",partner:{},subdomain:"",email_super_admin:"",password:""}),H=a=>{V(),l(r=>({...r,uuid:a.uuid,partner:t,subdomain:a.subdomain,email_super_admin:a.email_super_admin,password:a.password})),o(!0)},A=(a,r)=>{a.preventDefault(),r==="tambah"?L("/accounts",{onSuccess:()=>{j("Tambah"),m(M=>!1),h(s.partner),getAccounts(),p()},onError:()=>{g("Tambah")}}):P("/accounts/"+s.uuid,{onSuccess:()=>{j("Update"),o(M=>!1),h(s.partner),getAccounts(),p()},onError:()=>{g("Update")}})},K=a=>{let r;return a=="subdomain"?r="Subdomain":a=="email_super_admin"?r="Email super admin":a=="password"&&(r="CAS link partner"),r},y=(a,r)=>a?e.jsx("div",{className:"flex align-items-center",children:e.jsx("div",{children:a.name})}):e.jsx("span",{children:r.placeholder}),C=a=>e.jsx("div",{className:"flex align-items-center",children:e.jsx("div",{children:a.name})});return e.jsxs(e.Fragment,{children:[t.account!==null?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full dark:text-slate-300 dark:bg-slate-700",children:[e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Url Subdomain"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:((S=t.account)==null?void 0:S.subdomain)??"-"})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Email Super Admin"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:((E=t.account)==null?void 0:E.email_super_admin)??"-"})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Cas Link Partner"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:((I=t.account)==null?void 0:I.password)??"-"})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Log"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:e.jsx(c,{onClick:()=>{N(!0)},className:"bg-transparent p-0 cursor-pointer text-blue-700 underline ",children:"logs"})})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Aksi"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:e.jsx(c,{label:"edit",className:"p-0 underline bg-transparent text-blue-700 text-left",onClick:()=>{_.includes("tambah akun partner")&&t.account_manager_id==f.id?H(t.account):w(a=>!0)}})})]})]})}):e.jsx("div",{class:"w-full h-full min-h-[300px] -mt-4 flex items-center justify-center",children:e.jsxs("p",{class:"text-center",children:["Tidak ada data akun setting,"," ",e.jsx(c,{onClick:()=>{_.includes("tambah akun partner")&&t.account_manager_id==f.id?(p(),l("partner",t),m(!0)):w(a=>!0)},className:"bg-transparent p-0 cursor-pointer text-blue-700 underline ",children:"tambah akun setting"})]})}),e.jsx("div",{className:"card flex justify-content-center",children:e.jsx(x,{header:"Akun",headerClassName:"dark:glass dark:text-white",className:"bg-white w-[80%] md:w-[60%] lg:w-[35%] dark:glass dark:text-white",contentClassName:"dark:glass dark:text-white",visible:T,onHide:()=>m(!1),children:e.jsxs("form",{onSubmit:a=>A(a,"tambah"),children:[e.jsxs("div",{className:"flex flex-col justify-around gap-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"partner_subcription",children:"Partner"}),e.jsx(F,{dataKey:"name",optionLabel:"name",value:s.partner,onChange:a=>l("partner",a.target.value),options:b,placeholder:"Pilih Partner",filter:!0,disabled:!0,valueTemplate:y,itemTemplate:C,className:"w-full md:w-14rem"}),e.jsx(n,{message:i.partner,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"subdomain",children:"Subdomain"}),e.jsx(d,{value:s.subdomain,onChange:a=>l("subdomain",a.target.value),className:"dark:bg-gray-300",id:"subdomain","aria-describedby":"subdomain-help"}),e.jsx(n,{message:i.subdomain,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"email_super_admin",children:"Email Super Admin"}),e.jsx(d,{value:s.email_super_admin,onChange:a=>l("email_super_admin",a.target.value),className:"dark:bg-gray-300",id:"email_super_admin","aria-describedby":"email_super_admin-help"}),e.jsx(n,{message:i.email_super_admin,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"cars_link_partner",children:"CAS link partner"}),e.jsx(d,{value:s.password,onChange:a=>l("password",a.target.value),className:"dark:bg-gray-300",id:"cars_link_partner","aria-describedby":"cars_link_partner-help"}),e.jsx(n,{message:i.password,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-center mt-5",children:e.jsx(c,{label:"Submit",disabled:k,className:"bg-purple-600 text-sm shadow-md rounded-lg"})})]})})}),e.jsx("div",{className:"card flex justify-content-center",children:e.jsx(x,{header:"Akun",headerClassName:"dark:glass dark:text-white",className:"bg-white w-[80%] md:w-[60%] lg:w-[35%] dark:glass dark:text-white",contentClassName:"dark:glass dark:text-white",visible:D,onHide:()=>o(!1),children:e.jsxs("form",{onSubmit:a=>A(a,"update"),children:[e.jsxs("div",{className:"flex flex-col justify-around gap-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"partner_subcription",children:"Partner"}),e.jsx(F,{dataKey:"name",optionLabel:"name",value:s.partner,onChange:a=>l("partner",a.target.value),options:b,placeholder:"Pilih Partner",disabled:!0,filter:!0,valueTemplate:y,itemTemplate:C,className:"w-full md:w-14rem"}),e.jsx(n,{message:i.partner,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"subdomain",children:"Subdomain"}),e.jsx(d,{value:s.subdomain,onChange:a=>l("subdomain",a.target.value),className:"dark:bg-gray-300",id:"subdomain","aria-describedby":"subdomain-help"}),e.jsx(n,{message:i.subdomain,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"email_super_admin",children:"Email Super Admin"}),e.jsx(d,{value:s.email_super_admin,onChange:a=>l("email_super_admin",a.target.value),className:"dark:bg-gray-300",id:"email_super_admin","aria-describedby":"email_super_admin-help"}),e.jsx(n,{message:i.email_super_admin,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"cars_link_partner",children:"CAS link partner"}),e.jsx(d,{value:s.password,onChange:a=>l("password",a.target.value),className:"dark:bg-gray-300",id:"cars_link_partner","aria-describedby":"cars_link_partner-help"}),e.jsx(n,{message:i.password,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-center mt-5",children:e.jsx(c,{label:"Submit",disabled:k,className:"bg-purple-600 text-sm shadow-md rounded-lg"})})]})})}),e.jsx(x,{header:"Log Akun Setting",visible:v,maximizable:!0,className:"w-[90vw] lg:w-[50vw]",onHide:()=>{N(!1)},children:v&&e.jsx(B,{selectedData:t.account,fetchUrl:"/api/accounts/{partner:id}/logs",objectKeyToIndo:K})})]})};export{je as default};
