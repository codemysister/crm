import{r as s,P as Ze,U as Ge,Z as F,e as y,g as K,D as p,I as ze,O as Je}from"./app-183ca207.js";import{C as We,u as Xe,a as Ye,m as qe,n as Ve,E as Qe,f as en,d as nn,e as tn,R as rn}from"./ripple.esm-4b355069.js";import{C as an}from"./csstransition.esm-03d4c013.js";import{O as on}from"./dropdown.esm-0caba294.js";import{P as un}from"./portal.esm-545bb246.js";function T(){return T=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},T.apply(this,arguments)}function k(n){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k(n)}function ln(n,r){if(k(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,r||"default");if(k(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function sn(n){var r=ln(n,"string");return k(r)==="symbol"?r:String(r)}function cn(n,r,t){return r=sn(r),r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function U(n,r){(r==null||r>n.length)&&(r=n.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=n[t];return i}function pn(n){if(Array.isArray(n))return U(n)}function dn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function le(n,r){if(n){if(typeof n=="string")return U(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U(n,r)}}function fn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ie(n){return pn(n)||dn(n)||le(n)||fn()}function mn(n){if(Array.isArray(n))return n}function bn(n,r){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,a,N,x,d=[],I=!0,A=!1;try{if(N=(t=t.call(n)).next,r===0){if(Object(t)!==t)return;I=!1}else for(;!(I=(i=N.call(t)).done)&&(d.push(i.value),d.length!==r);I=!0);}catch(D){A=!0,a=D}finally{try{if(!I&&t.return!=null&&(x=t.return(),Object(x)!==x))return}finally{if(A)throw a}}return d}}function vn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(n,r){return mn(n)||bn(n,r)||le(n,r)||vn()}var yn=`
@layer primereact {
    .p-menu-overlay {
        position: absolute;
        /* Github #3122: Prevent animation flickering  */
        top: -9999px;
        left: -9999px;
    }

    .p-menu ul {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    .p-menu .p-menuitem-text {
        line-height: 1;
    }
}
`,gn={root:function(r){var t=r.props,i=r.context;return y("p-menu p-component",{"p-menu-overlay":t.popup,"p-input-filled":i&&i.inputStyle==="filled"||K.inputStyle==="filled","p-ripple-disabled":i&&i.ripple===!1||K.ripple===!1})},menu:"p-menu-list p-reset",content:"p-menuitem-content",action:function(r){var t=r.item;return y("p-menuitem-link",{"p-disabled":t.disabled})},menuitem:function(r){var t=r.focused;return y("p-menuitem",{"p-focus":t})},submenuHeader:function(r){var t=r.submenu;return y("p-submenu-header",{"p-disabled":t.disabled})},separator:"p-menu-separator",label:"p-menuitem-text",icon:"p-menuitem-icon",transition:"p-connected-overlay"},Sn={submenuHeader:function(r){var t=r.submenu;return t.style},menuitem:function(r){var t=r.item;return t.style}},H=We.extend({defaultProps:{__TYPE:"Menu",id:null,ariaLabel:null,ariaLabelledBy:null,tabIndex:0,model:null,popup:!1,popupAlignment:"left",style:null,className:null,autoZIndex:!0,baseZIndex:0,appendTo:null,onFocus:null,onBlur:null,transitionOptions:null,onShow:null,onHide:null,children:void 0,closeOnEscape:!0},css:{classes:gn,styles:yn,inlineStyles:Sn}});function ue(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function On(n){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ue(Object(t),!0).forEach(function(i){cn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var En=s.memo(s.forwardRef(function(n,r){var t=Xe(),i=s.useContext(Ze),a=H.getProps(n,i),N=s.useState(a.id),x=P(N,2),d=x[0],I=x[1],A=s.useState(!a.popup),D=P(A,2),S=D[0],$=D[1],se=s.useState(-1),B=P(se,2),O=B[0],R=B[1],ce=s.useState(-1),Z=P(ce,2),G=Z[0],pe=Z[1],de=s.useState(!1),z=P(de,2),J=z[0],W=z[1],C=H.setMetaData({props:a,state:{id:d,visible:S,focused:J}}),f=C.ptm,m=C.cx,X=C.sx,fe=C.isUnstyled;Ye(H.css.styles,fe,{name:"menu"});var c=s.useRef(null),Y=s.useRef(null),b=s.useRef(null),q=qe("menu",!!(S&&a.popup));Ve({callback:function(e){g(e)},when:S&&a.popup&&a.closeOnEscape&&q,priority:[Qe.MENU,q]});var me=en({target:b,overlay:c,listener:function(e,o){var l=o.valid;l&&(g(e),R(-1))},when:S}),V=P(me,2),be=V[0],ve=V[1],ye=function(e){a.popup&&on.emit("overlay-click",{originalEvent:e,target:b.current})},Q=function(e,o,l){if(o.disabled){e.preventDefault();return}o.command&&o.command({originalEvent:e,item:o}),a.popup&&g(e),!a.popup&&O!==l&&R(l),o.url||(e.preventDefault(),e.stopPropagation())},ge=function(e){W(!0),a.popup||(G!==-1?(E(G),pe(-1)):E(0)),a.onFocus&&a.onFocus(e)},Se=function(e){W(!1),R(-1),a.onBlur&&a.onBlur(e)},Oe=function(e){switch(e.code){case"ArrowDown":Ee(e);break;case"ArrowUp":xe(e);break;case"Home":Ie(e);break;case"End":he(e);break;case"Enter":ee(e);break;case"Space":Pe(e);break;case"Escape":a.popup&&(p.focus(b.current),g(e));case"Tab":a.popup&&S&&g(e);break}},Ee=function(e){var o=we(O);E(o),e.preventDefault()},xe=function(e){if(e.altKey&&a.popup)p.focus(b.current),g(e),e.preventDefault();else{var o=_e(O);E(o),e.preventDefault()}},Ie=function(e){E(0),e.preventDefault()},he=function(e){E(p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()},ee=function(e){var o=p.findSingle(c.current,'li[id="'.concat("".concat(O),'"]')),l=o&&p.findSingle(o,'a[data-pc-section="action"]');a.popup&&p.focus(b.current),l?l.click():o&&o.click(),e.preventDefault()},Pe=function(e){ee(e)},we=function(e){var o=p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),l=ie(o).findIndex(function(v){return v.id===e});return l>-1?l+1:0},_e=function(e){var o=p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),l=ie(o).findIndex(function(v){return v.id===e});return l>-1?l-1:0},E=function(e){var o=p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),l=e>=o.length?o.length-1:e<0?0:e;l>-1&&R(o[l].getAttribute("id"))},ne=function(){return O!==-1?O:null},ke=function(e){a.popup&&(S?g(e):te(e))},te=function(e){b.current=e.currentTarget,$(!0),a.onShow&&a.onShow(e)},g=function(e){b.current=e.currentTarget,$(!1),a.onHide&&a.onHide(e)},Ne=function(){p.addStyles(c.current,{position:"absolute",top:"0",left:"0"}),F.set("menu",c.current,i&&i.autoZIndex||K.autoZIndex,a.baseZIndex||i&&i.zIndex.menu||K.zIndex.menu),p.absolutePosition(c.current,b.current,a.popupAlignment),a.popup&&(p.focus(Y.current),E(0))},Ae=function(){be()},De=function(){b.current=null,ve()},Re=function(){F.clear(c.current)};nn(function(){d||I(Ge())}),tn(function(){F.clear(c.current)}),s.useImperativeHandle(r,function(){return{props:a,toggle:ke,show:te,hide:g,getElement:function(){return c.current},getTarget:function(){return b.current}}});var Ce=function(e,o){var l=d+"_sub_"+o,v=e.items.map(function(w,L){return re(w,L,l)}),j=t({id:l,key:l,role:"none",className:y(e.className,m("submenuHeader",{submenu:e})),style:X("submenuHeader",{submenu:e}),"data-p-disabled":e.disabled},f("submenuHeader"));return s.createElement(s.Fragment,{key:l},s.createElement("li",j,e.label),v)},je=function(e){var o=d+"_separator_"+e,l=t({id:o,key:o,className:m("separator"),role:"separator"},f("separator"));return s.createElement("li",l)},re=function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(e.visible===!1)return null;var v=y("p-menuitem-link",{"p-disabled":e.disabled}),j=y("p-menuitem-icon",e.icon),w=t({className:m("icon")},f("icon")),L=ze.getJSXIcon(e.icon,On({},w),{props:a}),Le=t({className:m("label")},f("label")),Me=e.label&&s.createElement("span",Le,e.label),h=e.id||(l||d)+"_"+o,Fe=t({onClick:function(_){return Q(_,e,h)},className:m("content")},f("content")),Ue=t({href:e.url||"#",className:m("action",{item:e}),onFocus:function(_){return _.stopPropagation()},target:e.target,tabIndex:"-1","aria-label":e.label,"aria-hidden":!0,"aria-disabled":e.disabled,"data-p-disabled":e.disabled},f("action")),M=s.createElement("div",Fe,s.createElement("a",Ue,L,Me,s.createElement(rn,null)));if(e.template){var $e={onClick:function(_){return Q(_,e,h)},className:v,tabIndex:"-1",labelClassName:"p-menuitem-text",iconClassName:j,element:M,props:a};M=Je.getJSXElement(e.template,e,$e)}var Be=t({id:h,key:h,className:y(e.className,m("menuitem",{focused:O===h})),style:X("menuitem",{item:e}),role:"menuitem","aria-label":e.label,"aria-disabled":e.disabled,"data-p-focused":ne()===h,"data-p-disabled":e.disabled||!1},f("menuitem"));return s.createElement("li",Be,M)},He=function(e,o){return e.separator?je(o):e.items?Ce(e,o):re(e,o)},Ke=function(){return a.model.map(He)},Te=function(){if(a.model){var e=Ke(),o=t({className:y(a.className,m("root",{context:i})),style:a.style,onClick:function(w){return ye(w)}},H.getOtherProps(a),f("root")),l=t({ref:Y,className:m("menu"),id:d+"_list",tabIndex:a.tabIndex||"0",role:"menu","aria-label":a.ariaLabel,"aria-labelledby":a.ariaLabelledBy,"aria-activedescendant":J?ne():void 0,onFocus:ge,onKeyDown:Oe,onBlur:Se},f("menu")),v=t({classNames:m("transition"),in:S,timeout:{enter:120,exit:100},options:a.transitionOptions,unmountOnExit:!0,onEnter:Ne,onEntered:Ae,onExit:De,onExited:Re},f("transition"));return s.createElement(an,T({nodeRef:c},v),s.createElement("div",T({id:a.id,ref:c},o),s.createElement("ul",l,e)))}return null},ae=Te();return a.popup?s.createElement(un,{element:ae,appendTo:a.appendTo}):ae}));En.displayName="Menu";export{En as M};
