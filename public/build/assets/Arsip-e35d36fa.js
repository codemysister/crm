import{r as a,F as V,W as B,j as e,R as O}from"./app-183ca207.js";import{H as T}from"./HeaderDatatable-497e5508.js";import{S as G}from"./SkeletonDatatable-07c9c4e2.js";import{B as g}from"./button.esm-d3cd2157.js";import{D as P,C as s}from"./column.esm-1f1d87c0.js";import{C as b,c as f}from"./confirmdialog.esm-3c4cbf5c.js";import{O as W}from"./overlaypanel.esm-9c3ae74e.js";import"./ripple.esm-4b355069.js";import"./inputtext.esm-0c7f541c.js";import"./DashboardLayout-217cf030.js";import"./Dropdown-b69220a2.js";import"./skeleton.esm-b303042b.js";import"./portal.esm-545bb246.js";import"./inputnumber.esm-6c4b14f0.js";import"./dropdown.esm-0caba294.js";import"./index.esm-64ce51d8.js";import"./csstransition.esm-03d4c013.js";import"./inheritsLoose-2f6bfe9f.js";import"./index.esm-9ef49f43.js";import"./index.esm-dca36cda.js";import"./index.esm-80aa95ee.js";import"./dialog.esm-202fdef4.js";const $=({auth:h,showSuccess:l,showError:i})=>{const[x,k]=a.useState(null),d=a.useRef(null),[c,y]=a.useState(null),[w,p]=a.useState(!1),[j,m]=a.useState(),[N,S]=a.useState(!0),[u,C]=a.useState({global:{value:null,matchMode:V.CONTAINS}}),{put:v,delete:D,reset:A}=B({id:"",uuid:"",name:"",category:"",color:""}),[F,R]=a.useState(""),H=t=>{const r=t.target.value;let o={...u};o.global.value=r,C(o),R(r)},n=async()=>{p(!0);let r=await(await fetch("/api/status/arsip")).json();k(o=>r),p(!1)};a.useEffect(()=>{(async()=>{S(r=>!1),await n()})()},[]);const K=()=>e.jsx(T,{globalFilterValue:F,onGlobalFilterChange:H}),E=t=>e.jsx(O.Fragment,{children:e.jsx("i",{className:"pi pi-ellipsis-h pointer cursor-pointer",onClick:r=>{y(t),d.current.toggle(r)}})}),I=()=>{f({message:"Apakah Anda yakin mengembalikan data ini?",header:"Konfirmasi hapus",icon:"pi pi-info-circle",acceptClassName:"p-button-danger",accept:async()=>{v("status/"+c.uuid+"/restore",{onSuccess:()=>{n(),l("Hapus")},onError:()=>{i("Hapus")}})}})},L=()=>{f({message:"Apakah Anda yakin untuk menghapus ini?",header:"Konfirmasi hapus",icon:"pi pi-info-circle",acceptClassName:"p-button-danger",accept:()=>{m(!0)}})},M=()=>{D("status/"+c.uuid+"/force",{onSuccess:()=>{n(),l("Hapus"),A()},onError:()=>{i("Hapus")}})};return N?e.jsx(G,{auth:h}):e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(b,{group:"declarative",visible:j,onHide:()=>m(!1),message:"Konfirmasi kembali jika anda yakin!",header:"Konfirmasi kembali",icon:"pi pi-info-circle",accept:M}),e.jsx(W,{className:"shadow-md p-1 dark:bg-slate-900 dark:text-gray-300",ref:d,children:e.jsxs("div",{className:"flex flex-col flex-wrap w-full",children:[e.jsx(g,{icon:"pi pi-replay",label:"pulihkan",className:"bg-transparent hover:bg-slate-200 w-full text-slate-500 border-b-2 border-slate-400",onClick:()=>{I()}}),e.jsx(g,{icon:"pi pi-trash",label:"hapus",className:"bg-transparent hover:bg-slate-200 w-full text-slate-500 border-b-2 border-slate-400",onClick:()=>{L()}})]})}),e.jsx("div",{className:"flex mx-auto flex-col justify-center mt-5 gap-5",children:e.jsx("div",{className:"card p-fluid w-full h-full flex justify-center rounded-lg",children:e.jsxs(P,{loading:w,className:"w-full h-auto rounded-lg dark:glass border-none text-center shadow-md",pt:{bodyRow:"dark:bg-transparent bg-transparent dark:text-gray-300",table:"dark:bg-transparent bg-white dark:text-gray-300",header:""},paginator:!0,filters:u,rows:10,emptyMessage:"Status tidak ditemukan.",paginatorClassName:"dark:bg-transparent paginator-custome dark:text-gray-300 rounded-b-lg",header:K,globalFilterFields:["name","category"],value:x,dataKey:"id",children:[e.jsx(s,{header:"Aksi",body:E,style:{width:"max-content",whiteSpace:"nowrap"},className:"dark:border-none",headerClassName:"dark:border-none  bg-transparent dark:bg-transparent dark:text-gray-300"}),e.jsx(s,{field:"uuid",hidden:!0,className:"dark:border-none",headerClassName:"dark:border-none bg-transparent dark:bg-transparent dark:text-gray-300",header:"Nama",align:"left",style:{width:"max-content",whiteSpace:"nowrap"}}),e.jsx(s,{field:"name",className:"dark:border-none",headerClassName:"dark:border-none bg-transparent dark:bg-transparent dark:text-gray-300",header:"Nama",align:"left",style:{width:"max-content",whiteSpace:"nowrap"}}),e.jsx(s,{field:"category",className:"dark:border-none",headerClassName:"dark:border-none bg-transparent dark:bg-transparent dark:text-gray-300",header:"Kategori",align:"left",style:{width:"max-content",whiteSpace:"nowrap"}}),e.jsx(s,{field:"color",className:"dark:border-none",headerClassName:"dark:border-none  bg-transparent dark:bg-transparent dark:text-gray-300",align:"left",header:"Warna",body:t=>e.jsx("div",{className:"h-full w-10 rounded-md ",style:{backgroundColor:`#${t.color}`,height:"22.5px"}}),style:{width:"max-content",whiteSpace:"nowrap"}})]})})})]})},ue=$;export{ue as default};
