import{r as i,P as te,l as X,e as d,D as re,O as H,I as ne}from"./app-183ca207.js";import{B as k}from"./button.esm-d3cd2157.js";import{C as ae,u as oe,a as ce,b as ie,e as se}from"./ripple.esm-4b355069.js";import{D as le}from"./dialog.esm-202fdef4.js";import{O as j}from"./dropdown.esm-0caba294.js";import{P as ue}from"./portal.esm-545bb246.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function fe(e){if(Array.isArray(e))return e}function me(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,g,v,m=[],p=!0,w=!1;try{if(g=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(n=g.call(r)).done)&&(m.push(n.value),m.length!==t);p=!0);}catch(E){w=!0,o=E}finally{try{if(!p&&r.return!=null&&(v=r.return(),Object(v)!==v))return}finally{if(w)throw o}}return m}}function W(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e,t){if(e){if(typeof e=="string")return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}function ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y(e,t){return fe(e)||me(e,t)||pe(e,t)||ge()}function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}function ve(e,t){if(C(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function be(e){var t=ve(e,"string");return C(t)==="symbol"?t:String(t)}function de(e,t,r){return t=be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye={root:"p-confirm-dialog",message:"p-confirm-dialog-message",icon:"p-confirm-dialog-icon",acceptButton:"p-confirm-dialog-accept",rejectButton:function(t){var r=t.getPropValue;return d("p-confirm-dialog-reject",{"p-button-text":!r("rejectClassName")})}},x=ae.extend({defaultProps:{__TYPE:"ConfirmDialog",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,breakpoints:null,children:void 0,className:null,defaultFocus:"accept",footer:null,icon:null,message:null,onHide:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,tagKey:void 0,visible:void 0},css:{classes:ye}});function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(n){de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t=y(y({},t),{visible:t.visible===void 0?!0:t.visible}),t.visible&&j.emit("confirm-dialog",t);var r=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j.emit("confirm-dialog",y(y(y({},t),g),{visible:!0}))},n=function(){j.emit("confirm-dialog",{visible:!1})};return{show:r,hide:n}},je=i.memo(i.forwardRef(function(e,t){var r=oe(),n=i.useContext(te),o=x.getProps(e,n),g=i.useState(o.visible),v=Y(g,2),m=v[0],p=v[1],w=i.useState(!1),E=Y(w,2),V=E[0],z=E[1],h=i.useRef(null),P=i.useRef(!1),I=i.useRef(null),N=function(){var a=o.group;return h.current&&(a=h.current.group),Object.assign({},o,h.current,{group:a})},c=function(a){return N()[a]},T=function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];return H.getPropValue(c(a),u)},M=c("acceptLabel")||X("accept"),$=c("rejectLabel")||X("reject"),_={props:o,state:{visible:m}},A=x.setMetaData(_),O=A.ptm,S=A.cx,G=A.isUnstyled;ce(x.css.styles,G,{name:"confirmdialog"});var K=function(){P.current||(P.current=!0,T("accept"),b("accept"))},J=function(){P.current||(P.current=!0,T("reject"),b("reject"))},R=function(){var a=N();a.group===o.group&&(p(!0),P.current=!1,I.current=document.activeElement)},b=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";p(!1),T("onHide",{result:a}),re.focus(I.current),I.current=null},D=function(a){if(a.tagKey===o.tagKey){var l=m!==a.visible,u=c("target")!==a.target;u&&!o.target?(b(),h.current=a,z(!0)):l&&(h.current=a,a.visible?R():b())}};i.useEffect(function(){o.visible?R():b()},[o.visible]),i.useEffect(function(){return!o.target&&!o.message&&j.on("confirm-dialog",D),function(){j.off("confirm-dialog",D)}},[o.target]),ie(function(){V&&R()},[V]),se(function(){j.off("confirm-dialog",D)}),i.useImperativeHandle(t,function(){return{props:o,confirm:D}});var Q=function(){var a=c("defaultFocus"),l=d("p-confirm-dialog-accept",c("acceptClassName")),u=d("p-confirm-dialog-reject",{"p-button-text":!c("rejectClassName")},c("rejectClassName")),f={label:$,autoFocus:a==="reject",icon:c("rejectIcon"),className:d(c("rejectClassName"),S("rejectButton",{getPropValue:c})),onClick:J,pt:O("rejectButton"),unstyled:o.unstyled,__parentMetadata:{parent:_}},F=r({label:M,autoFocus:a===void 0||a==="accept",icon:c("acceptIcon"),className:d(c("acceptClassName"),S("acceptButton")),onClick:K,pt:O("acceptButton"),unstyled:o.unstyled,__parentMetadata:{parent:_}},O("acceptButton")),B=i.createElement(i.Fragment,null,i.createElement(k,f),i.createElement(k,F));if(c("footer")){var L={accept:K,reject:J,acceptClassName:l,rejectClassName:u,acceptLabel:M,rejectLabel:$,element:B,props:N()};return H.getJSXElement(c("footer"),L)}return B},Z=function(){var a=N(),l=H.getJSXElement(c("message"),a),u=r({className:S("icon")},O("icon")),f=ne.getJSXIcon(c("icon"),y({},u),{props:a}),F=Q(),B=r({className:S("message")},O("message")),L=r({visible:m,className:d(c("className"),S("root")),footer:F,onHide:b,breakpoints:c("breakpoints"),pt:a.pt,unstyled:o.unstyled,appendTo:c("appendTo"),__parentMetadata:{parent:_}},x.getOtherProps(a));return i.createElement(le,U({},L,{content:e==null?void 0:e.content}),f,i.createElement("span",B,l))},ee=Z();return i.createElement(ue,{element:ee,appendTo:c("appendTo")})}));je.displayName="ConfirmDialog";export{je as C,Ee as c};
