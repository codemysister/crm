import{r as a,F as x,j as e}from"./app-183ca207.js";import"./HeaderDatatable-497e5508.js";import{B as f}from"./badge.esm-c550247d.js";import{B as b}from"./button.esm-d3cd2157.js";import{D as j,C as l}from"./column.esm-1f1d87c0.js";import{O as y}from"./overlaypanel.esm-9c3ae74e.js";import{f as w}from"./formatDate-5c964a42.js";import"./ripple.esm-4b355069.js";import"./inputtext.esm-0c7f541c.js";import"./portal.esm-545bb246.js";import"./inputnumber.esm-6c4b14f0.js";import"./dropdown.esm-0caba294.js";import"./index.esm-64ce51d8.js";import"./csstransition.esm-03d4c013.js";import"./inheritsLoose-2f6bfe9f.js";import"./index.esm-9ef49f43.js";import"./index.esm-dca36cda.js";import"./index.esm-80aa95ee.js";const Q=({partner:k,handleSelectedDetailPartner:N,showSuccess:v,showError:S})=>{const[i,n]=a.useState(!1),[s,c]=a.useState(null),[C,p]=a.useState(!0),[o,u]=a.useState([]),d=a.useRef(),[m,L]=a.useState({global:{value:null,matchMode:x.CONTAINS}});a.useState("");const g=async()=>{n(!0);let r=await(await fetch("/api/partners/logs/status")).json();u(h=>r),n(!1)};return a.useEffect(()=>{(async()=>{p(r=>!1),await g()})()},[]),e.jsx(e.Fragment,{children:o.length>0?e.jsxs("div",{className:"flex mx-auto flex-col justify-center gap-5",children:[console.log("oke"),e.jsx("div",{className:"card p-fluid w-full h-full flex justify-center rounded-lg",children:e.jsxs(j,{id:"tablelog",loading:i,className:"w-full h-full rounded-lg border-none text-center",pt:{bodyRow:"dark:bg-transparent bg-transparent dark:text-gray-300 h-full",table:"dark:bg-transparent bg-white dark:text-gray-300 h-full",header:"",thead:"hidden"},style:{height:"300px"},showGridlines:!0,paginator:!0,filters:m,rows:10,emptyMessage:"Status tidak ditemukan.",paginatorClassName:"dark:bg-transparent paginator-status-log dark:text-gray-300 rounded-b-lg",globalFilterFields:["name","category","causer.name"],value:o,dataKey:"id",children:[e.jsx(l,{field:"causer",hidden:!0,className:"border-none",headerClassName:"border-none bg-transparent dark:bg-transparent dark:text-gray-300",align:"left",style:{width:"max-content",whiteSpace:"nowrap"},body:t=>t.causer.name}),e.jsx(l,{field:"uuid",hidden:!0,className:"border-none",headerClassName:"border-none bg-transparent dark:bg-transparent dark:text-gray-300",align:"left",style:{width:"max-content",whiteSpace:"nowrap"}}),e.jsx(l,{className:"border-none",headerClassName:"border-none bg-transparent dark:bg-transparent dark:text-gray-300",align:"left",style:{width:"max-content",whiteSpace:"nowrap"},body:t=>e.jsxs("div",{className:"flex justify-between w-full gap-2",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(f,{value:t.properties.attributes["status.name"],className:"w-20 text-white",style:{backgroundColor:"#"+t.properties.attributes["status.color"]}}),e.jsx("p",{children:w(t.created_at)+", "+t.causer.name+" memperbaharui status partner"})]}),t.event!=="deleted"?e.jsx("div",{children:e.jsx(b,{label:"detail",className:"p-0 underline bg-transparent text-blue-700 text-left",onClick:r=>{d.current.toggle(r),console.log(t),c(h=>t)},"aria-controls":"popup_menu_right","aria-haspopup":!0})}):null]})})]})}),e.jsx(y,{className:"w-[40%] shadow-md md:max-w-[50%] dark:bg-slate-900 dark:text-gray-300",ref:d,showCloseIcon:!0,children:e.jsxs("div",{className:"flex flex-wrap flex-col gap-2 p-4",children:[e.jsx("p",{className:"font-semibold",children:"Keterangan"}),e.jsx("p",{className:"text-justify",children:s==null?void 0:s.note_status})]})})]}):e.jsx("div",{class:"w-full h-full min-h-[300px] -mt-4 flex items-center justify-center",children:e.jsx("p",{class:"text-center",children:"Tidak ada data log status"})})})};export{Q as default};
