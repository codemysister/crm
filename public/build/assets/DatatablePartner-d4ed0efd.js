import{r as m,F as C,j as a,_ as g}from"./app-183ca207.js";import{H as T}from"./HeaderDatatable-497e5508.js";import{f as L}from"./formatNPWP-cf5b7efc.js";import{g as E}from"./getViewportSize-e6da2c0c.js";import{u as h}from"./UppercaseEachWord-e9d7052e.js";import{B as O}from"./badge.esm-c550247d.js";import{B as d}from"./button.esm-d3cd2157.js";import{D as z,C as o}from"./column.esm-1f1d87c0.js";import{f as i}from"./formatDate-5c964a42.js";import{h as M}from"./handleSelectedDetailInstitution-5c7c27d9.js";import"./ripple.esm-4b355069.js";import"./inputtext.esm-0c7f541c.js";import"./portal.esm-545bb246.js";import"./inputnumber.esm-6c4b14f0.js";import"./dropdown.esm-0caba294.js";import"./index.esm-64ce51d8.js";import"./csstransition.esm-03d4c013.js";import"./inheritsLoose-2f6bfe9f.js";import"./index.esm-9ef49f43.js";import"./index.esm-dca36cda.js";import"./index.esm-80aa95ee.js";const oe=m.memo(({children:u,dialogOnboarding:F,setDialogOnboardingVisible:b,isLoadingData:w,partners:p,handleSelectedDetailPartner:A,action:_,setSelectedPartner:x,setSidebarFilter:f})=>{const r=E().width<992,[c,y]=m.useState({global:{value:null,matchMode:C.CONTAINS}}),k=()=>{const e=p.map(t=>({Nama:t.name,Status:t.status?t.status.name:"-",NPWP:t.npwp?t.npwp:"-",Jumlah_Member:t.total_members?t.total_members:"-",Nomor_Telepon_Lembaga:t.phone_number?t.phone_number:"-",Sales:t.sales?t.sales.name:"-",Account_Manager:t.account_manager?t.account_manager.name:"-",PIC:t.pics.length!==0?t.pics[0].name:"-",Nomor_Telepon_PIC:t.pics.length!==0?t.pics[0].number:"-",Provinsi:t.province?JSON.parse(t.province).name:"-",Kabupaten:t.regency?JSON.parse(t.regency).name:"-",Tanggal_Onboarding:t.onboarding_date?i(t.onboarding_date):"-",Tanggal_Live:t.live_date?i(t.live_date):"-",Tanggal_Monitoring_3_Bulan_After_Live:t.monitoring_date_after_3_month_live?i(t.monitoring_date_after_3_month_live):"-"}));g(()=>import("./xlsx-6ed613d4.js"),[]).then(t=>{const s={Sheets:{data:t.utils.json_to_sheet(e)},SheetNames:["data"]},l=t.write(s,{bookType:"xlsx",type:"array"});S(l,"partner")})},S=(e,t)=>{g(()=>import("./FileSaver.min-a64440ff.js").then(n=>n.F),["assets/FileSaver.min-a64440ff.js","assets/app-183ca207.js","assets/app-22bdcf69.css"]).then(n=>{if(n&&n.default){let s="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",l=".xlsx";const j=new Blob([e],{type:s});n.default.saveAs(j,t+l)}})},v=e=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"flex justify-center",children:a.jsx("i",{className:"pi pi-ellipsis-h pointer cursor-pointer",onClick:t=>{x(e),_.current.toggle(t)}})})}),N=[{field:"name",header:"Lembaga",frozen:!r,style:{width:"max-content",whiteSpace:"nowrap"},body:e=>a.jsx("button",{onClick:()=>M(e),className:"hover:text-blue-700 text-left",children:e.name})},{field:"status",header:"Status",frozen:!r,style:{width:"max-content",whiteSpace:"nowrap"},body:e=>a.jsx(O,{value:e.status.name,className:"text-white",style:{backgroundColor:"#"+e.status.color}})},{field:"npwp",header:"NPWP",frozen:!r,style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.npwp!==null?L(e.npwp):"-"},{field:"pic",header:"PIC",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.pic?e.pic.name:"-"},{field:"sales",header:"Sales",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.sales?e.sales.name:"-"},{field:"account_manager",header:"Account Manager",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.account_manager?e.account_manager.name:"-"},{field:"province",header:"Provinsi",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.province?h(JSON.parse(e.province).name):"belum diiisi"},{field:"regency",header:"Kabupaten",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.regency?h(JSON.parse(e.regency).name):"-"},{field:"subdistrict",header:"Kecamatan",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.subdistrict?JSON.parse(e.subdistrict).name:"-"},{field:"onboarding_date",header:"Tanggal Onboarding",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.onboarding_date?new Date(e.onboarding_date).toLocaleDateString("id"):"-"},{field:"live_date",header:"Tanggal Live",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.live_date!==null?new Date(e.live_date).toLocaleDateString("id"):"-"},{field:"monitoring_date_after_3_month_live",header:"Tanggal Monitoring (3 bulan setelah live)",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.live_date!==null?new Date(e.live_date).toLocaleDateString("id"):"-"},{field:"onboarding_age",header:"Umur Onboarding",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.onboarding_age!==null?e.onboarding_age+" hari":"-"},{field:"live_age",header:"Umur Onboarding",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.live_age!==null?e.live_age+" hari":"-"},{field:"total_members",header:"Jumlah Member",style:{width:"max-content",whiteSpace:"nowrap"}},{field:"password",header:"Password",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.password??"-"},{field:"phone_number",header:"Nomor Telepon",style:{width:"max-content",whiteSpace:"nowrap"}}],P=()=>a.jsxs(T,{filters:c,setFilters:y,children:[a.jsx(d,{className:"shadow-md w-[10px] lg:w-[120px] border border-slate-600 bg-transparent text-slate-600 dark:bg-slate-700 dark:text-slate-300 rounded-lg",onClick:()=>{b(!0)},children:a.jsxs("span",{className:"w-full flex justify-center items-center gap-1",children:[a.jsx("i",{className:"pi pi-filter",style:{fontSize:"0.7rem"}})," ",!r&&a.jsx("span",{children:"onboarding"})]})}),a.jsx(d,{className:"shadow-md w-[10px] lg:w-[90px] border border-slate-600 bg-transparent text-slate-600 dark:bg-slate-700 dark:text-slate-300 rounded-lg",onClick:()=>f(!0),children:a.jsxs("span",{className:"w-full flex justify-center items-center gap-1",children:[a.jsx("i",{className:"pi pi-filter",style:{fontSize:"0.7rem"}})," ",!r&&a.jsx("span",{children:"filter"})]})}),a.jsx(d,{className:"shadow-md w-[10px] lg:w-[90px] bg-transparent text-slate-600 dark:bg-slate-700 dark:text-slate-300 dark:border rounded-lg",onClick:k,"data-pr-tooltip":"XLS",children:a.jsxs("span",{className:"w-full flex items-center justify-center gap-1",children:[a.jsx("i",{className:"pi pi-file-excel",style:{fontSize:"0.8rem"}})," ",!r&&a.jsx("span",{children:"export"})]})})]});return a.jsxs(z,{loading:w,className:"w-full h-auto rounded-lg dark:glass border-none text-center shadow-md",pt:{bodyRow:"dark:bg-transparent  dark:text-gray-300",table:"dark:bg-transparent bg-white dark:text-gray-300"},paginator:!0,rowsPerPageOptions:[5,10,25,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} - {last} dari {totalRecords}",children:u,rows:10,filter:!0,filters:c,scrollable:!0,globalFilterFields:["name","status","province","regency","onboarding_date","live_date","monitoring_date_after_3_month_live","sales.name","account_manager.name"],emptyMessage:"Partner tidak ditemukan.",paginatorClassName:"dark:bg-transparent paginator-custome dark:text-gray-300 rounded-b-lg",header:P,value:p,dataKey:"id",children:[a.jsx(o,{header:"Aksi",frozen:!0,body:v,className:"dark:border-none lg:w-max lg:whitespace-nowrap",headerClassName:"dark:border-none dark:bg-slate-900 dark:text-gray-300"}),N.map(e=>a.jsx(o,{field:e.field,header:e.header,body:e.body,style:e.style,frozen:e.frozen,align:"left",className:"dark:border-none bg-white",headerClassName:"dark:border-none bg-white dark:bg-slate-900 dark:text-gray-300"})),a.jsx(o,{field:"created_by",className:"dark:border-none",headerClassName:"dark:border-none bg-transparent dark:bg-transparent dark:text-gray-300",header:"Diinput Oleh",align:"left",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>e.created_by.name}),a.jsx(o,{field:"created_at",className:"dark:border-none",headerClassName:"dark:border-none bg-transparent dark:bg-transparent dark:text-gray-300",header:"Diinput Pada",align:"left",style:{width:"max-content",whiteSpace:"nowrap"},body:e=>i(e.created_at)})]})});export{oe as DatatablePartner};
