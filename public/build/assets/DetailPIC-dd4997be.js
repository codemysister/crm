import{r as m,W as P,j as e}from"./app-183ca207.js";import{L as k}from"./LogDetailPartnerComponent-fcf62a60.js";import{B as n}from"./button.esm-d3cd2157.js";import{D as b}from"./dialog.esm-202fdef4.js";import{I as r}from"./inputtext.esm-0c7f541c.js";import"./HeaderDatatable-497e5508.js";import"./ripple.esm-4b355069.js";import"./SkeletonDatatable-07c9c4e2.js";import"./DashboardLayout-217cf030.js";import"./Dropdown-b69220a2.js";import"./column.esm-1f1d87c0.js";import"./inputnumber.esm-6c4b14f0.js";import"./dropdown.esm-0caba294.js";import"./index.esm-64ce51d8.js";import"./csstransition.esm-03d4c013.js";import"./inheritsLoose-2f6bfe9f.js";import"./portal.esm-545bb246.js";import"./index.esm-9ef49f43.js";import"./index.esm-dca36cda.js";import"./index.esm-80aa95ee.js";import"./skeleton.esm-b303042b.js";import"./formatDate-5c964a42.js";import"./badge.esm-c550247d.js";import"./message.esm-4bbe4c64.js";import"./index.esm-c27cbd20.js";import"./overlaypanel.esm-9c3ae74e.js";const ae=({partner:t,handleSelectedDetailPartner:p,showSuccess:x,showError:h,currentUser:u,permissionErrorIsVisible:y,setPermissionErrorIsVisible:j})=>{const[f,d]=m.useState(!1),[o,c]=m.useState(!1),{data:l,setData:i,post:E,put:g,delete:D,reset:w,processing:v,errors:F}=P({uuid:"",partner:{},name:"",number:"",position:"",email:""}),N=s=>{i(a=>({...a,uuid:s.uuid,partner:t,name:s.name,number:s.number,position:s.position,address:s.address,email:s.email})),d(!0)},C=s=>{s.preventDefault(),g("/pics/"+l.uuid,{onSuccess:()=>{x("Update"),d(a=>!1),p(l.partner),w("partner","name","number","position","address")},onError:()=>{h("Update")}})},I=s=>{let a;return s=="partner.name"?a="Lembaga":s=="name"?a="Nama":s=="number"?a="Nomor Telepon":s=="email"?a="Email":s=="position"&&(a="Posisi"),a};return e.jsxs(e.Fragment,{children:[t.pic!==void 0?e.jsxs(e.Fragment,{children:[e.jsxs("table",{class:"w-full dark:text-slate-300 dark:bg-slate-700",children:[e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Nama"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:t.pic.name})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Jabatan"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:t.pic.position??"-"})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"No. Telp"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:t.pic.number??"-"})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Email"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:t.pic.email??"-"})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Log"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:e.jsx(n,{onClick:()=>{c(!0)},className:"bg-transparent p-0 cursor-pointer text-blue-700 underline ",children:"logs"})})]}),e.jsxs("tr",{class:"border-b",children:[e.jsx("td",{class:"pt-2 pb-1  text-base font-bold w-1/5",children:"Aksi"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-[2%]",children:":"}),e.jsx("td",{class:"pt-2 pb-1  text-base w-7/12",children:e.jsx(n,{label:"edit",className:"p-0 underline bg-transparent text-blue-700 text-left",onClick:()=>{t.created_by.id==u.id?N(t.pic):j(s=>!0)}})})]})]}),e.jsx("div",{className:"card flex justify-content-center",children:e.jsx(b,{header:"Edit PIC",headerClassName:"dark:glass shadow-md z-20 dark:text-white",className:"bg-white w-[80%] md:w-[60%] lg:w-[30%] dark:glass dark:text-white",contentClassName:" dark:glass dark:text-white",visible:f,onHide:()=>d(!1),children:e.jsxs("form",{onSubmit:s=>C(s),children:[e.jsxs("div",{className:"flex flex-col justify-around gap-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",children:"Nama"}),e.jsx(r,{value:l.name,onChange:s=>i("name",s.target.value),className:"dark:bg-gray-300",id:"name","aria-describedby":"name-help"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"number",children:"Email *"}),e.jsx(r,{value:l.email,onChange:s=>i("email",s.target.value),className:"dark:bg-gray-300",id:"email","aria-describedby":"email-help"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"number",children:"No.Hp"}),e.jsx(r,{keyfilter:"int",min:0,value:l.number,onChange:s=>i("number",s.target.value),className:"dark:bg-gray-300",id:"number","aria-describedby":"number-help"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"position",children:"Jabatan"}),e.jsx(r,{value:l.position,onChange:s=>i("position",s.target.value),className:"dark:bg-gray-300",id:"position","aria-describedby":"position-help"})]})]}),e.jsx("div",{className:"flex justify-center mt-5",children:e.jsx(n,{label:"Submit",disabled:v,className:"bg-purple-600 text-sm shadow-md rounded-lg"})})]})})})]}):e.jsx("div",{class:"w-full h-full min-h-[300px] -mt-4 flex items-center justify-center",children:e.jsx("p",{class:"text-center",children:"Tidak ada data PIC"})}),e.jsx(b,{header:"Log PIC",visible:o,maximizable:!0,className:"w-[90vw] lg:w-[50vw]",onHide:()=>{c(!1)},children:o&&e.jsx(k,{selectedData:t.pic,fetchUrl:"/api/pics/{partner:id}/logs",objectKeyToIndo:I})})]})};export{ae as default};
